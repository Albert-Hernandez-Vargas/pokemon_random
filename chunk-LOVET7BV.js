import{a as K,b,c as w,d as Q,e as X}from"./chunk-5XLX6KFQ.js";import{$ as s,$a as p,Fa as c,Ga as d,Ha as H,Ia as V,Ja as S,K as x,Ka as I,La as g,Ma as r,Na as l,Oa as f,P as v,Pa as N,Q as y,Qa as B,Ra as $,Sa as z,Ta as A,Ua as T,Va as Y,Wa as m,ab as h,cb as M,db as O,eb as G,fb as _,gb as C,jb as U,la as P,na as a,tb as q,ub as J,wb as R,xa as u}from"./chunk-3TPNMSQ4.js";var te=e=>({color:e}),ne=(e,n)=>({"--i":e,"--clr":n});function ie(e,n){if(e&1&&(r(0,"h1",0),p(1),l()),e&2){let t=m();g("ngStyle",O(2,te,t.winningSegment().color)),a(),h(t.winningSegment().label)}}function oe(e,n){e&1&&(r(0,"h1",1),p(1,"Gira la ruleta"),l())}function ae(e,n){if(e&1&&(r(0,"div",5)(1,"span"),p(2),l()()),e&2){let t=n.$implicit,i=n.$index;g("ngStyle",G(2,ne,i+1,t.color)),a(2),h(t.segmentLabel)}}var E=class e{wheelSegments=[{prize:5,label:"\xA1Nueva captura!",segmentLabel:"Nueva captura",color:"#db7093"},{prize:1,label:"\xA1Pokem\xF3n aleatorio!",segmentLabel:"Pokem\xF3n",color:"#20b2aa"},{prize:2,label:"\xA1Escoge tu item!",segmentLabel:"Item",color:"#d63e92"},{prize:6,label:"\xA1Capsula habilidad!",segmentLabel:"Capsula habilidad",color:"#daa520"},{prize:1,label:"\xA1Pokem\xF3n aleatorio!",segmentLabel:"Pokem\xF3n",color:"#ff340f"},{prize:3,label:"\xA1Cambio de naturaleza!",segmentLabel:"Cambio de naturaleza",color:"#ff7f50"},{prize:2,label:"\xA1Escoge tu item!",segmentLabel:"Item",color:"#3cb371"},{prize:1,label:"\xA1Pokem\xF3n aleatorio!",segmentLabel:"Pokem\xF3n",color:"#4169e1"}];winningSegment=s(null);spinning=!1;prize=U();ngAfterViewInit(){this.prepareWheel()}prepareWheel(){let n=document.getElementById("wheel"),t=document.getElementById("spin-btn"),i=0;n.ontransitionend=()=>{let o=this.calculatePrizeSegment(i);this.winningSegment.set(o),this.prize.emit(o.prize),this.spinning=!1},t.onclick=()=>{this.spinning||(this.prize.emit(null),this.winningSegment.set(null),this.spinning=!0,i+=Math.ceil(Math.random()*3600+1800),n.style.transform=`rotate(${i}deg)`)}}calculatePrizeSegment(n){let t=360/this.wheelSegments.length,i=360-(n-t/2)%360,o=Math.floor(i/t);return(o<0||o>=this.wheelSegments.length)&&(o=0),this.wheelSegments[o]}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-wheel"]],outputs:{prize:"prize"},decls:8,vars:1,consts:[["id","wheel-header",3,"ngStyle"],["id","wheel-header"],[1,"wheel-container"],["id","spin-btn"],["id","wheel"],[1,"segment",3,"ngStyle"]],template:function(t,i){t&1&&(c(0,ie,2,4,"h1",0)(1,oe,2,0,"h1",1),r(2,"div",2)(3,"div",3),p(4,"O"),l(),r(5,"div",4),S(6,ae,3,5,"div",5,V),l()()),t&2&&(d(i.winningSegment()?0:1),a(6),I(i.wheelSegments))},dependencies:[R,J],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;margin-bottom:30px}#wheel-header[_ngcontent-%COMP%]{font-size:2.5em;font-weight:800;margin-bottom:20px;color:#fff;text-shadow:2px 3px 3px rgba(0,0,0,.1);margin-top:25px}.wheel-container[_ngcontent-%COMP%]{position:relative;width:600px;height:600px;display:flex;justify-content:center;align-items:center;margin-top:25px}.wheel-container[_ngcontent-%COMP%]   #spin-btn[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;background:#fff;border-radius:50%;z-index:10;display:flex;justify-content:center;align-items:center;text-transform:uppercase;font-weight:600;color:#333;letter-spacing:.1em;border:4px solid rgba(0,0,0,.75);cursor:pointer;-webkit-user-select:none;user-select:none}.wheel-container[_ngcontent-%COMP%]   #spin-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-28px;width:20px;height:30px;background-color:#fff;clip-path:polygon(50% 0%,15% 100%,85% 100%)}.wheel-container[_ngcontent-%COMP%]   #wheel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#333;border-radius:50%;overflow:hidden;box-shadow:0 0 0 5px #333,0 0 0 15px #fff,0 0 0 18px #111;transition:transform 5s ease-in-out}.wheel-container[_ngcontent-%COMP%]   #wheel[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{position:absolute;width:50%;height:50%;background:var(--clr);transform-origin:bottom right;transform:rotate(calc(45deg * var(--i)));clip-path:polygon(0 0,50% 0,100% 100%,0 63.5%);display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none;cursor:pointer}.wheel-container[_ngcontent-%COMP%]   #wheel[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;left:25px;top:30px;font-size:1.15em;font-weight:700;text-align:right;color:#fff;transform:rotate(45deg);text-shadow:3px 5px 2px rgba(0,0,0,.15)}']})};var re=e=>({picked:e});function me(e,n){if(e&1){let t=z();r(0,"img",4),T("click",function(){v(t);let o=m().$index,k=m(2);return y(k.pickItem(o))}),l()}if(e&2){let t=m().$index;g("alt",M("Hidden Item "+t))}}function le(e,n){if(e&1&&(r(0,"div",3),f(1,"img",5),_(2,"spanishName"),r(3,"p",6),p(4),_(5,"spanishName"),l()()),e&2){let t=m(),i=t.$implicit,o=t.$index,k=m(2);a(),g("alt",M(C(2,5,i)))("src",i.sprites.default,P),a(2),g("ngClass",O(9,re,k.selectedIndex()===o)),a(),h(C(5,7,i))}}function pe(e,n){if(e&1&&c(0,me,1,2,"img",2)(1,le,6,11,"div",3),e&2){let t=m(2);d(t.picked()?1:0)}}function se(e,n){if(e&1&&(r(0,"div",0),S(1,pe,2,1,null,null,H),l()),e&2){let t=m();a(),I(t.generatedItems())}}function ce(e,n){e&1&&f(0,"img",1)}var F=class e{generatedItemsSize=K.generatedItemsSize;pokemonService=x(b);generating=!1;generatedItems=s([]);picked=s(!1);selectedIndex=s(null);async ngOnInit(){this.getRandomItems()}async getRandomItems(){this.generating=!0,this.generatedItems.set(await this.pokemonService.generateRandomItems(this.generatedItemsSize,!0)),this.generating=!1}pickItem(n){this.picked.set(!0),this.selectedIndex.set(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-pick-item"]],decls:2,vars:1,consts:[[1,"items-box"],["id","loading-pokemon","src","img/pokeball.webp"],["src","img/hidden-item.png",1,"hidden-item-sprite",3,"alt"],["id","item-box"],["src","img/hidden-item.png",1,"hidden-item-sprite",3,"click","alt"],["id","item-sprite",3,"src","alt"],["id","item-name",3,"ngClass"]],template:function(t,i){t&1&&c(0,se,3,0,"div",0)(1,ce,1,0,"img",1),t&2&&d(i.generatedItems().length&&!i.generating?0:1)},dependencies:[R,q,w],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#ccc;margin-top:100px;padding:50px}.items-box[_ngcontent-%COMP%]{display:flex;gap:45px}.hidden-item-sprite[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.hidden-item-sprite[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_jump .5s;transition:all .5s}@keyframes _ngcontent-%COMP%_jump{0%{transform:translateY(0)}25%{transform:translateY(10px)}50%{transform:translateY(0)}75%{transform:translateY(-10px)}to{transform:translateY(0)}}#item-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}#item-sprite[_ngcontent-%COMP%]{width:75px;height:75px}#item-name[_ngcontent-%COMP%]{text-align:center;font-size:1em;font-weight:800;margin-bottom:20px;color:#333;text-shadow:2px 3px 3px rgba(0,0,0,.1);-webkit-user-select:none;user-select:none}#item-name.picked[_ngcontent-%COMP%]{font-size:1.25em;text-decoration:underline}"]})};function de(e,n){if(e&1&&(r(0,"h2",1),p(1),_(2,"spanishName"),l(),f(3,"app-nature-summary",2)),e&2){let t=m();a(),h(C(2,2,t.generatedNature())),a(2),g("nature",t.generatedNature())}}function ge(e,n){e&1&&f(0,"img",0)}var W=class e{pokemonService=x(b);generating=!0;generatedNature=s(null);ngOnInit(){this.getRandomNature()}async getRandomNature(){this.generating=!0,this.generatedNature.set(await this.pokemonService.getRandomPokemonNature()),this.generating=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-random-nature"]],decls:2,vars:1,consts:[["id","loading-pokemon","src","img/pokeball.webp"],["id","nature-header"],[3,"nature"]],template:function(t,i){t&1&&c(0,de,4,4)(1,ge,1,0,"img",0),t&2&&d(i.generatedNature()&&!i.generating?0:1)},dependencies:[Q,w],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#ccc;margin-top:100px;padding:50px}#nature-header[_ngcontent-%COMP%]{text-align:center;font-size:2em;font-weight:800;margin-bottom:20px;color:#333;text-shadow:2px 3px 3px rgba(0,0,0,.1)}"]})};function fe(e,n){if(e&1&&(N(0,"div",0),$(1,"img",3),_(2,"spanishName"),N(3,"h2",4),p(4),_(5,"spanishName"),B()()),e&2){let t=m();a(),A("alt",M(C(2,4,t.item())))("src",t.item().sprites.default,P),a(3),h(C(5,6,t.item()))}}function ue(e,n){if(e&1){let t=z();N(0,"button",5),Y("click",function(){v(t);let o=m();return y(o.getRandomMachine())}),p(1,"GENERAR MT ALEATORIA"),B()}}function he(e,n){e&1&&$(0,"img",2)}var L=class e{pokemonService=x(b);generating=!1;generatedMachine=s(null);item=s(null);async getRandomMachine(){this.generating=!0,this.generatedMachine.set(await this.pokemonService.getRandomMachine()),this.item.set(await this.pokemonService.getItemByName(this.generatedMachine().item.name)),this.generating=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-random-mt"]],decls:3,vars:1,consts:[["id","machine-box"],[1,"generate-btn"],["id","loading-pokemon","src","img/pokeball.webp"],["id","machine-sprite",3,"src","alt"],["id","machine-header"],[1,"generate-btn",3,"click"]],template:function(t,i){t&1&&c(0,fe,6,8,"div",0)(1,ue,2,0,"button",1)(2,he,1,0,"img",2),t&2&&d(i.item()&&!i.generating?0:i.generating?2:1)},dependencies:[w],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#ccc;margin-top:100px;padding:50px}#machine-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}#machine-sprite[_ngcontent-%COMP%]{width:120px;height:120px}#machine-header[_ngcontent-%COMP%]{text-align:center;font-size:2em;font-weight:800;margin-bottom:20px;color:#333;text-shadow:2px 3px 3px rgba(0,0,0,.1)}"]})};function xe(e,n){e&1&&f(0,"app-random-pokemon",1),e&2&&g("enableRecreate",!1)}function _e(e,n){e&1&&f(0,"app-pick-item")}function Ce(e,n){e&1&&f(0,"app-random-nature")}function be(e,n){e&1&&f(0,"app-random-mt")}var Z=class e{prize=null;pokemonService=x(b);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-home"]],decls:5,vars:1,consts:[[3,"prize"],[3,"enableRecreate"]],template:function(t,i){if(t&1&&(r(0,"app-wheel",0),T("prize",function(k){return i.prize=k}),l(),c(1,xe,1,1,"app-random-pokemon",1)(2,_e,1,0,"app-pick-item")(3,Ce,1,0,"app-random-nature")(4,be,1,0,"app-random-mt")),t&2){let o;a(),d((o=i.prize)===1?1:o===2?2:o===3?3:o===4?4:-1)}},dependencies:[E,X,F,W,L],encapsulation:2})};export{Z as HomeComponent};
